<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\projects\arg-parser\ArgParser\ArgParser.Core\BasicExtensions.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;

namespace ArgParser.Core
{
    public static class BasicExtensions
    {
        public static bool IsNotNullOrWhiteSpace(this string source) =&gt; !IsNullOrWhiteSpace(source);

        public static bool IsNullOrWhiteSpace(this string source) =&gt; string.IsNullOrWhiteSpace(source);

        public static string Join(this IEnumerable&lt;string&gt; strings, string separator) =&gt;
            string.Join(separator, strings);

        public static string JoinNonNullOrWhiteSpace(this IEnumerable&lt;string&gt; strings, string separator)
        {
            return string.Join(separator, strings.Where(x =&gt; !IsNullOrWhiteSpace(x)));
        }

        public static IEnumerable&lt;T&gt; PreventNull&lt;T&gt;(this IEnumerable&lt;T&gt; source) =&gt; source ?? new T[0];

        public static T ThrowIfArgumentNull&lt;T&gt;(this T thing, string parameterName, string message = null)
        {
            if (thing != null)
                return thing;
            if (message != null)
                throw new ArgumentNullException(parameterName, message);
            throw new ArgumentNullException(parameterName);
        }

        public static IEnumerable&lt;T&gt; ToEnumerableOfOne&lt;T&gt;(this T source) =&gt; new[] {source};

        public static Action&lt;object, string[]&gt; ToNonGenericAction&lt;T&gt;(this Action&lt;T, string[]&gt; action)
        {
            return (instance, s) =&gt;
            {
                if (instance is T casted)
                    action(casted, s);
                else
                    throw new ArgumentException(
                        $&quot;Expected to find object of type={typeof(T).FullName}, but found type={instance.GetType().FullName}&quot;);
            };
        }

        public static Action&lt;object&gt; ToNonGenericAction&lt;T&gt;(this Action&lt;T&gt; toConvert)
        {
            // todo: does this belong here?
            toConvert.ThrowIfArgumentNull(nameof(toConvert));
            return instance =&gt;
            {
                instance.ThrowIfArgumentNull(nameof(instance));
                if (instance is T casted)
                    toConvert(casted);
                else
                    throw new ArgumentException(
                        $&quot;Expected to find object of type={typeof(T).FullName}, but found type={instance.GetType().FullName}&quot;);
            };
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[10,73,10,100,1],[12,70,12,103,1],[15,13,15,44,1],[18,9,18,10,1],[19,13,19,62,1],[19,62,19,84,1],[19,84,19,87,1],[19,13,19,87,1],[20,9,20,10,1],[22,84,22,102,1],[25,9,25,10,1],[26,13,26,31,1],[27,17,27,30,1],[28,13,28,33,1],[29,17,29,73,1],[30,13,30,60,1],[31,9,31,10,1],[33,77,33,91,1],[36,9,36,10,1],[37,13,38,13,1],[38,13,38,14,1],[38,14,39,17,1],[39,17,39,42,1],[39,42,40,21,1],[40,21,40,39,1],[40,39,42,21,1],[42,21,43,128,1],[43,128,44,13,1],[44,13,44,14,1],[44,14,44,15,1],[37,13,44,15,1],[45,9,45,10,1],[48,9,48,10,1],[50,13,50,62,1],[51,13,52,13,1],[52,13,52,14,1],[52,14,53,17,1],[53,17,53,64,1],[53,64,54,17,1],[54,17,54,42,1],[54,42,55,21,1],[55,21,55,39,1],[55,39,57,21,1],[57,21,58,128,1],[58,128,59,13,1],[59,13,59,14,1],[59,14,59,15,1],[51,13,59,15,1],[60,9,60,10,1]]);
    </script>
  </body>
</html>