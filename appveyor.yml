image: Visual Studio 2017

version: 1.0.{build}

branches:
  only:
    - master
    - develop
    - feature/appveyor

init:
  - git config --global core.autocrlf input

cache:
  - packages -> **\packages.config  
  - '%LocalAppData%\NuGet\Cache'    
  - '%LocalAppData%\NuGet\v3-cache' 

platform: Any CPU

configuration: Release

before_build:
  - nuget restore ArgParser/ArgParser.sln
  - dotnet tool install -g coveralls.net --version 1.0.0

build:
  parallel: true
  project: ArgParser/ArgParser.sln
  verbosity: minimal

test:
  assemblies:
    - '**\*.Test.dll'
    - '**\*.Tests.dll'

environment:
  COVERALLS_REPO_TOKEN:
    secure: dxNQXnuBxcyVeQhaepf3P5NWWpP3tz+9j+gvlduwmBaeoIeyuvfMRRA5JFE/omEs